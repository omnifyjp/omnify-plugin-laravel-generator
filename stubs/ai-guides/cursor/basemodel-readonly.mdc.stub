---
description: "⛔ DO NOT EDIT - Auto-generated base models by Omnify. These files are overwritten on every generation."
globs: ["{{LARAVEL_BASE}}/Models/OmnifyBase/**/*.php"]
alwaysApply: true
---

# ⛔ DO NOT EDIT - Auto-Generated Base Models

This file is **auto-generated by Omnify** and will be **overwritten** on next `npx omnify generate`.

## ❌ ABSOLUTELY FORBIDDEN

- Adding methods
- Modifying relations
- Changing `$fillable`, `$hidden`, `$casts`
- Adding traits
- Any modifications whatsoever

## ✅ CORRECT APPROACH

### To modify schema structure:

1. Edit the schema YAML in `schemas/`
2. Run `npx omnify generate`

### To add custom logic:

Add to the **User Model** (e.g., `{{LARAVEL_BASE}}/Models/Post.php`), NOT here.

```php
// ✅ CORRECT: Add custom logic in User Model
class Post extends PostBaseModel
{
    public function scopePublished($query) { ... }
    public function getReadTimeAttribute(): int { ... }
}
```

## What BaseModel Provides

### All models include `HasLocalizedDisplayName` trait:

```php
// Available on all models - DO NOT recreate!
Model::displayName('ja')                    // "投稿"
Model::displayName('en')                    // "Post"
Model::propertyDisplayName('title', 'ja')   // "タイトル"
Model::allDisplayNames()                    // ['ja' => '投稿', 'en' => 'Post']
Model::allPropertyDisplayNamesForLocale('ja')
```

### Each EntityBaseModel provides:

| Feature | Description | Source |
|---------|-------------|--------|
| `$fillable` | Mass assignable fields | Schema properties |
| `$hidden` | Hidden from JSON | `hidden: true` in schema |
| `$casts` | Type casting | Property types |
| `$table` | Table name | Schema name (snake_case) |
| Relations | `belongsTo()`, `hasMany()`, etc. | Schema associations |
| Soft deletes | `use SoftDeletes` | `options.softDelete: true` |

## See Also

- `model-editable.mdc` - Rules for editing User Models
- `omnify-schema.mdc` - Schema YAML reference
